/*!
 * havLightbox v0.2 (https://www.havocspage.net)
 * Copyright 2024-2025 RenÃ© Nicolaus
 * Licensed under MIT (https://github.com/Havoc7891/havLightbox/blob/main/LICENSE)
 */
document.addEventListener("DOMContentLoaded",(e=>{function t(e,t){if(e){var n=new URL(t,window.location.href).href,o=document.querySelector(".havlightbox"),i=o.querySelector(".havlightbox-image-container"),a=i.querySelector("img"),r=o.querySelector(".havlightbox-caption"),c=o.querySelector(".havlightbox-image-counter"),s=o.querySelector(".havlightbox-close"),h=o.querySelector(".havlightbox-thumbnail-selection");if(o&&i&&a&&r&&c&&s&&h){var d=[],u=[],y=0;if(e.querySelectorAll(".havlightbox-thumbnail").forEach((e=>{d.push(new URL(e.dataset.havlightboxImage,window.location.href).href),u.push(e.getAttribute("alt"))})),-1!==(y=d.indexOf(n))){r.style.display="block",c.style.display="block",s.style.display="block",o.style.display="block",a.src=n,r.innerText=u[y],c.innerText=y+1+" / "+d.length,h.innerHTML="",d.forEach(((e,t)=>{var l=document.createElement("img");l.src=e,l.alt=t+1,l.classList.add("havlightbox-thumbnail-selection-item"),t===y&&l.classList.add("selected"),l.addEventListener("click",(()=>{var e=Array.from(l.parentNode.children).indexOf(l);e!==y&&(y=e,document.querySelectorAll(".havlightbox-thumbnail-selection-item").forEach((e=>{e.classList.remove("selected")})),l.classList.add("selected"),a.src=d[y],r.innerText=u[y],c.innerText=y+1+" / "+d.length)})),h.appendChild(l)})),o.addEventListener("click",(e=>{e.target===o&&l()})),setTimeout((()=>{o.classList.add("open")}),50);var v=o.querySelector(".havlightbox-prev-button"),g=o.querySelector(".havlightbox-next-button");v.addEventListener("click",(()=>{A(!0)})),g.addEventListener("click",(()=>{m(!0)}));var b=0,x=0;o.addEventListener("touchstart",(e=>{b=e.changedTouches[0].screenX})),o.addEventListener("touchend",(e=>{var t,l;x=e.changedTouches[0].screenX,t=50,l=x-b,Math.abs(l)>t&&(l<0?m():A())})),function(e,t){var l=e.querySelector(".havlightbox-image-counter");t.length<2?l.style.display="none":l.style.display="block"}(o,d),function(e,t){var l=e.querySelector(".havlightbox-thumbnail-selection");t.length<2?l.style.display="none":l.style.display="flex"}(o,d),function(e,t){var l=e.querySelector(".havlightbox-prev-button"),n=e.querySelector(".havlightbox-next-button");t.length<2?(l.style.display="none",n.style.display="none"):(l.style.display="block",n.style.display="block")}(o,d)}}}function m(e=!1){y<d.length-1?(++y,p()):e&&(y=0,p())}function A(e=!1){y>0?(--y,p()):e&&(y=d.length-1,p())}function p(){a.src=d[y],r.innerText=u[y],c.innerText=y+1+" / "+d.length,function(e){document.querySelectorAll(".havlightbox-thumbnail-selection-item").forEach(((t,l)=>{l===e?t.classList.add("selected"):t.classList.remove("selected")}))}(y)}}function l(){var e=document.querySelector(".havlightbox"),t=e.querySelector(".havlightbox-image-container img"),l=e.querySelector(".havlightbox-caption"),n=e.querySelector(".havlightbox-image-counter"),o=e.querySelector(".havlightbox-close");e.classList.remove("open");var i=e.querySelector(".havlightbox-prev-button"),a=e.querySelector(".havlightbox-next-button");i.style.display="none",a.style.display="none",l.innerText="",n.innerText="",l.style.display="none",n.style.display="none",o.style.display="none",e.querySelectorAll(".havlightbox-thumbnail-selection-item").forEach((e=>{e.classList.remove("selected")})),setTimeout((()=>{t.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",e.style.display="none"}),500)}document.querySelectorAll(".havlightbox-gallery").forEach((e=>{e.querySelectorAll(".havlightbox-thumbnail").forEach((l=>{l.addEventListener("click",(()=>{t(e,l.dataset.havlightboxImage)}))}))})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&l()})),document.querySelector(".havlightbox-close").addEventListener("click",l)}));